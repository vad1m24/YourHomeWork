# Знакомство с контролем версий

## Что такое контроль версий и зачем он нужен

Контроль версий (контроль исходного кода) — практика, которая позволяет отслеживать изменения исходного кода и управлять ими.

Контроль версий необходим, чтобы:
* хранить разные версии проекта
* возвращаться к разным версиям проекта

Примеры использования контроля версий в жизни:
* Написание нескольких версий одного текста.
* Сохранение в компьютерных играх.
* Группа сотрудников пишет текст в течение нескольких дней.

Можно организовать совместную работу с помощью сервиса Google Docs, но в реальных бизнес-ситуациях это не всегда удобно: чтобы контролировать изменения документа, его приходится править и перечитывать. А ещё работа в облачных сервисах — это угроза безопасности.


## Git — программа для контроля версий

**Git** — самая популярная система контроля версий, но не единственная. Алгоритм работы подобных систем схож.

Программа Git берёт на себя контроль версий проекта и позволяет переключаться между ними. Обратите внимание: *Git хранит не файлы целиком, а отличия между ними*  Это позволяет экономить память. Автор программы — Линус Торвальдс, создатель ОС Linux.

## Команды Git

`git --version` — Если Git установлен на компьютер, вы увидите его текущую версию

`git init` — Инициализация: указываем папку, в которой git начнёт отслеживать изменения. В папке создаётся скрытая папка .git

`git status` — Показывает текущее состояние гита, есть ли изменения, которые нужно закоммитить (сохранить)

`git add` — Добавляет содержимое рабочего каталога в индекс (staging area) для последующего коммита. Эта команда дается после добавления файлов

`git commit -m "коментарий"` — Зафиксировать или сохранить

`git log` — Журнал изменений

`git checkout` — Переключение между версиями

`git checkout master` — Вернуться в актуальную версию

`git diff` — Показывает разницу между текущим файлом и сохранённым

## Синтаксис языка Markdown

* **Жирный текст** — **
* *Курсивный текст* — * или _
* Зачеркнутый текст — ~
* Выделяют заголовки — # в начале строки
* Показать уровень заголовка — подчеркивание знаками = или ****
* Нумерованные cписки — обозначаются обычными цифрами 1, 2, 3
* Ненумерованные cписки — обозначаются *знаками в начале строки
* Вложенные Списки — выполняем отступы

# Установка и настройка системы контроля версий

## Работа с черновиками

`git branch`

Если у нас несколько версий черновика, мы можем вывести на экран ветку, где находимся, командой git branch.
Создать ветку можно командой git branch. Делать это надо в папке с репозиторием:

`git branch <название новой ветки>`

Во время лекции у нас будет ветка master с черновиком и отдельная ветка — с чистовиком.
Если потребуется переключиться с одной веткина другую, вызовем команду:

`git checkout <имя ветки>`

Когда мы правим текст/код в текущей ветке, автоматического слияния не происходит: можно создавать один документ в разных версиях в разных ветках.
Команда `git log` покажет состояние более новых версий проекта. Но если вызвать эту команду из самой «свежей» ветки, мы не увидим исходного файла.

## Совмещение двух вариантов текста: git merge

Чтобы слить любую ветку с текущей, вызываем

`git merge <имя ветки для слияния с текущей>`

## Удаление веток

Если ветка  больше не нужна, ее можно удалить

`git branch -d <имя удаляемой ветки>`

## Добавление изображения

`git ignore`

В Git не принято добавлять файлы изображений, их хранят на сторонних носителях. Чтобы исключить ненужные файлы из загрузки, в рабочей директории нужно создать файл `.gitignore` и в нем указать имя и расширение файлов которые мы исключаем из git. Затем с помощью команды `git add .gitignire` добавляем его в репозиторий и последним шагом коммитим.

## Конфликт изменений

При работе в двух ветках одновременно может возникнуть ситуация, когда в одной и другой ветке мы по-разному изменили блок текста. Если затем мы попробуем слить эти ветки, Git сообщит о конфликте и предложит выбрать, какие же изменения записать.
Поэтому у проекта в репозитории должен быть один ответственный пользователь, наделённый правом проводить слияния и разрешать конфликты.

## Визуализация всех веток

`git log --graph`

Ключ -graf в связке с командой log позволяет отобразить коммиты в виде дерева.

# Углубляемся в контроль версий

## Разграничение понятий Git и GitHub

**git**

* Освоить работу с удаленными репозиториями, которые находятся не на локальной, а на удаленной машине, например, на сервере.
* git — одна из систем контроля версий
* Способ организации и поддержания версионности
* Самая популярная система контроля версий

**github**

* Сервис компании Майкрософт для организации работы удаленных репозиториев
* Самый популярный сервис Git
* Много полезных функций
* Огромный архив различного кода

## Работа с удаленными репозиториями.

Скачивание из текущего репозитория и слияние со своей версией
Копировать внешний репозиторий на свой ПК можно командой `git clone`. через пробел необходимо указать ссылку на удаленный репозиторий скопированную на github.

>Команда `git clone` составная: она не только загружает все изменения, но и пытается слить все ветки на локальном компьютере и в удаленном репозитории.

`git pull` - Эта команда позволяет скачать все из текущего репозитория и автоматически сделать merge с нашей версией

Отправить свою версию репозитория во внешний репозиторий поможет команда `git push`. При первом её использовании нужна `git pull` авторизация.

`git push` - Эта команда позволяет отправить нашу версию репозитория на внешний репозиторий. ТРЕБУЕТ АВТОРИЗАЦИИ на внешнем репозитории.

## Как настроить совместную работу

1. Создать аккаунт на GitHub.com
2. Создать локальный репозиторий
3. “Подружить” ваш локальный и удалённый репозитории.
4. Отправить (push) ваш локальный репозиторий в удалённый (на GitHub).
5. Провести изменения “с другого компьютера”.
6. Выкачать (pull) актуальное состояние из удалённого репозитория.

## pull request

* команда для предложения изменений
* запрос на вливание изменений в репозиторий

В больших компаниях один ответственный за проект создает аккаунт. Другие пользователи дают команду pull request. Предлагать изменения на GitHub нужно в отдельной ветке. Сначала пользователь копирует репозиторий на свой компьютер, делает fork репозитория, затем клонирует версию на своём ПК, создаёт ветку с предлагаемыми изменениями, отправляет изменения командой push в свой аккаунт на GitHub и даёт команду pull request.

## Как сделать pull request

* Делаем   (ответвление) репозитория
* Делаем git clone   версии репозитория
* Создаем новую ветку и в НЕЕ вносим свои изменения
* Фиксируем изменения (делаем коммиты)
* Отправляем свою версию в свой GitHub
* На сайте GitHub нажимаем кнопку pull request

# ___Main commands___

* *git init* - команда инициализирующая репозиторий в текущей папке;

* *git status* - команда, отображающая текущее состояние репозитория;

* *git add* - добавить файл в отслеживание (к следующему коммиту);

* *git commit* -m "message" – создание коммита;

* *git commit* --amend -m "message" - измемнение последнего коммита;

* *git log* – вывод на экран истории всех коммитов с их хеш-кодами;

* *git checkout* – переход от одного коммита к другому;

* *git checkout master* – вернуться к актуальному состоянию и продолжить работу;

* *git diff* – увидеть разницу между текущим файлом и закоммиченным файлом

* *git branch* - отображает список всех веток;

* *git merge* - слияние текущей ветки с branchName

* *git remote add origin (ссылка)* - создание связи между удаленным GitHub и локальным репозиторием.
  
* *git branch -M master* - создание основного (заменять main на master удаленного репозитория)
  
* *git push -u origin master* - отправляет локальны репозиторий на GitHab.
  
* *git pull* - выгружает данные репозитория с CitHub на локальный комьютер.
